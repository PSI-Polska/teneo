<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.7">
<meta name="Forrest-skin-name" content="elver4">
<style type="text/css">
          /*  */
          @import "../skin/tigris.css";
          @import "../skin/quirks.css";
          @import "../skin/inst.css";
         /*   */
        </style>
<link media="print" href="../skin/print.css" type="text/css" rel="stylesheet">
<link href="../skin/forrest.css" type="text/css" rel="stylesheet">
<link rel="shortcut icon" href="../">
<script type="text/javascript" src="../skin/tigris.js"></script><script src="../skin/menu.js" language="javascript" type="text/javascript"></script>
<title>EMF - JPOX Integration Overview</title>
<meta content="text/css" http-equiv="Content-style-type">
</head>
<body class="composite" onload="focus()">
<div id="banner">
<table width="100%" cellpadding="8" cellspacing="0" border="0">
<tr>
<td align="left">
<div>
<a href="http://www.elver.org"><img class="logoImage" alt="Elver Store" src="../images/ELV2.gif"></a>
</div>
<span class="alt">Elver Store</span></td><td align="center">
<div>
<a href="http://www.elver.org/"><img class="logoImage" alt="Elver" src="../images/empty.gif"></a>
</div>
</td><td valign="top" align="right">
<div class="right" align="right" id="login">
<form target="_blank" action="http://www.google.com/search" method="get">
<select name="as_sitesearch"><option value="">Search...</option><option value="www.elver.org">The elver site</option><option value="">The web</option></select> for
		      <input size="15" name="as_q" id="query" type="text"><input name="Search" value="Go" type="submit">
</form>
</div>
</td>
</tr>
</table>
</div>
<div id="toptabs" class="tabs">
<table border="0" cellspacing="0" cellpadding="4">
<tr>
<td><a class="base-selected" href="../index.html">Home</a></td><td><a class="base-selected" href="../hibernate/index.html">EMF Hibernate</a></td><th><a class="base-selected" href="../jpox/index.html">EMF JDO/JPOX</a></th><td><a class="base-selected" href="../services/index.html">Services</a></td>
</tr>
</table>
</div>
<table width="100%" border="0" cellpadding="0" cellspacing="0" id="breadcrumbs">
<tr>
<td></td><td>
<div class="published" align="right">
<script type="text/javascript" language="JavaScript"><!--
                 document.write("Published: " + document.lastModified);
                 //  --></script>
</div>
</td>
</tr>
</table>
<table id="main" width="100%" cellpadding="4" cellspacing="0" border="0">
<tr valign="top">
<td style="padding: 0px" width="20%" id="leftcol">
<table width="100%" class="menuarea" cellspacing="0" cellpadding="0">
<tr>
<td width="6px" valign="top">
<table border="0" cellpadding="0" cellspacing="0" class="leftpagemargin">
<tr>
<td class="subborder trail">&nbsp;</td>
</tr>
</table>
</td><td class="dialog">
<div class="menu">
<div onclick="SwitchMenu('menu_selected_1.1')" id="menu_selected_1.1Title" class="menutitle">Home</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup">
<div class="menuitem">
<a href="../jpox/index.html">Introduction</a>
</div>
<div class="menuitem">
<a href="../jpox/features.html">Features</a>
</div>
<div class="menuitem">
<a href="../jpox/status.html">Status</a>
</div>
<div class="menupage">
<div class="menupagetitle">Overview</div>
</div>
<div class="menuitem">
<a href="../jpox/changelog.html">Changelog</a>
</div>
<div class="menuitem">
<a href="../jpox/installation.html">Download &amp; Install</a>
</div>
<div class="menuitem">
<a href="../jpox/knownissues.html">Known Issues</a>
</div>
<div class="menuitem">
<a href="../jpox/quick_tutorial.html">Quick Start</a>
</div>
<div class="menuitem">
<a href="../jpox/license.html">License</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.2')" id="menu_1.2Title" class="menutitle">Library Tutorial</div>
<div id="menu_1.2" class="menuitemgroup">
<div class="menuitem">
<a href="../jpox/tutorial1/tutorial1_intro.html">Introduction</a>
</div>
<div class="menuitem">
<a href="../jpox/tutorial1/tutorial1_1.html">Generate OR Mapping File</a>
</div>
<div class="menuitem">
<a href="../jpox/tutorial1/tutorial1_2.html">Create and Store EMF Object</a>
</div>
<div class="menuitem">
<a href="../jpox/tutorial1/tutorial1_3.html">Retrieve EMF Objects</a>
</div>
<div class="menuitem">
<a href="../jpox/tutorial1/tutorial1_4.html">Query EMF Objects</a>
</div>
<div class="menuitem">
<a href="../jpox/tutorial1/tutorial1_5.html">Using EMF/JPOX Resources</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.3')" id="menu_1.3Title" class="menutitle">Library Editor tutorial</div>
<div id="menu_1.3" class="menuitemgroup">
<div class="menuitem">
<a href="../jpox/tutorial2/tutorial2_intro.html">Introduction</a>
</div>
<div class="menuitem">
<a href="../jpox/tutorial2/tutorial2_1.html">Initialize the Library Editor</a>
</div>
<div class="menuitem">
<a href="../jpox/tutorial2/tutorial2_2.html">Run the Library Editor</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.4')" id="menu_1.4Title" class="menutitle">Details</div>
<div id="menu_1.4" class="menuitemgroup">
<div class="menuitem">
<a href="../jpox/inheritance.html">Inheritance Mapping</a>
</div>
<div class="menuitem">
<a href="../jpox/jpox_details.html">JPOX Details</a>
</div>
<div class="menuitem">
<a href="../jpox/jpoxresources.html">EMF/JPOX Resources</a>
</div>
<div class="menuitem">
<a href="../jpox/resource_utility.html">Resource Utility</a>
</div>
<div class="menuitem">
<a href="../jpox/jpoxdatastore.html">JpoxDataStore</a>
</div>
<div class="menuitem">
<a href="../jpox/troubleshooting.html">Troubleshooting</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.5')" id="menu_1.5Title" class="menutitle">Annotations (JPA/EJB3)</div>
<div id="menu_1.5" class="menuitemgroup">
<div class="menuitem">
<a href="../jpox/ejb3_features.html">Supported Ann.</a>
</div>
<div class="menuitem">
<a href="../jpox/ejb3_format.html">EAnn. Format</a>
</div>
<div class="menuitem">
<a href="../jpox/ejb3_examples.html">EAnn. Examples</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.6')" id="menu_1.6Title" class="menutitle">XML Schema</div>
<div id="menu_1.6" class="menuitemgroup">
<div class="menuitem">
<a href="../jpox/features_details.html">XML Schema Features</a>
</div>
<div class="menuitem">
<a href="../jpox/featuremap.html">Feature Map/Mixed Content</a>
</div>
<div class="menuitem">
<a href="../jpox/substitution.html">Substitution Group</a>
</div>
<div class="menuitem">
<a href="../jpox/anytype.html">xsd:any/xsd:anyType</a>
</div>
<div class="menuitem">
<a href="../jpox/schema_list.html">XML Schema Examples</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.7')" id="menu_1.7Title" class="menutitle">Support</div>
<div id="menu_1.7" class="menuitemgroup">
<div class="menuitem">
<a href="../jpox/upgrading.html">Upgrading</a>
</div>
<div class="menuitem">
<a href="../jpox/mailinglist.html">Newsgroup</a>
</div>
<div class="menuitem">
<a href="../jpox/emfjpoxsupport.html">EMF/JPOX Support</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.8')" id="menu_1.8Title" class="menutitle">Developer</div>
<div id="menu_1.8" class="menuitemgroup">
<div class="menuitem">
<a href="../jpox/svn.html">CVS</a>
</div>
</div>
</div>
</td>
</tr>
<tr>
<td></td><td>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td class="border bottom-left"></td><td class="border bottomborder"></td><td class="border bottom-right"></td>
</tr>
</table>
</td>
</tr>
<tr>
<td colspan="2" height="10"></td>
</tr>
</table>
<table></table>
<table></table>
<div class="strut">&nbsp;</div>
</td><td>
<div class="content">
<div id="bodycol">
<div id="apphead">
<h2>
<em>EMF - JPOX Integration Overview</em>
</h2>
</div>
<div class="abstract">
    
</div>
<div class="app" id="projecthome">
<ul class="minitoc">
<li>
<a href="#Generate+OR+Mapping+file">Generate OR Mapping file</a>
</li>
<li>
<a href="#Class+Enhancement">Class Enhancement</a>
</li>
<li>
<a href="#Runtime+Layer">Runtime Layer</a>
</li>
<li>
<a href="#ejb3">EJB3 Annotations</a>
</li>
</ul>
	  
<p>
	  The EMF - JPOX Persistency solution consists of two tools:</p>
	
<ol>
		
<li>EMF - JPOX OR Mapper: generates object-relational mapping files from ecore model. </li>
	 
<li>EMF - JPOX Runtime: takes care of handling EMF specific 
things such as EMF collections, containment and bi-directional relations.</li>
	
</ol>
		  
<p>These tools are used in the development process in the following way:</p>
	
<a name="N10022"></a><a name="Generate+OR+Mapping+file"></a>
<div class="h3">
<h3>Generate OR Mapping file</h3>
				
	  
<p>
	  After the java sources have been generated from the ecore model, the next step is to generate the <em>package.jdo</em> file. The package.jdo file describes
	  for a object relational mapping tool how to persist java objects to relational tables. 
		</p>
	 
<p>The <em>EMF - JPOX OR Mapper Tool</em> performs this task.
	  </p>
	
</div>
	
<a name="N10035"></a><a name="Class+Enhancement"></a>
<div class="h3">
<h3>Class Enhancement</h3>
				
	  
<p>
	  In a jdo 2.0 scenario java classes are enhanced on the basis of the <em>package.jdo</em> file.  The enhancement uses byte-code enhancement tools 
		  to adapt compiled java classes. During the enhancement action, persistent related
		  interfaces and functionality are added to the java classes. 
		</p>
		
<p>
<a class="external" href="http://www.jpox.org/docs/download.html">JPOX</a> delivers an Eclipse plugin which can be used
		to automatically enhance the java classes after each Eclipse build.
	  </p>
	
</div>
	
<a name="N10048"></a><a name="Runtime+Layer"></a>
<div class="h3">
<h3>Runtime Layer</h3>
		
  
<p>
	  The java classes have been enhanced and ready to be persisted. EMF objects require specific handling in relation to
	  jpox. This is mainly related to the way EMF handles references and collections. Also the EMF resource approach
	  requires specific jpox implementations. To handle the EMF specifics, the <em>EMF - JPOX runtime
	  layer</em> was developed. This layer is very small (about 50kb) but is essential to get a working EMF - JPOX integration.
	</p>
		
<p>The main visible component of the runtime layer is the <a href="jpoxdatastore.html">JpoxDataStore</a>. 
		The <a href="jpoxdatastore.html">JpoxDataStore</a> 
		controls a PersistenceManagerFactory and a set of EPackages which are persisted using the PersistenceManagers
		of this PersistenceManagerFactory. When using a PersistenceManager, 
		behind the scenes Teneo takes care of instantiating EMF objects and setting/getting EFeatures from the database. 
		Teneo also handles lazy loading of ELists.</p>
		
<p>
<div align="center">
<img class="figure" alt="Teneo Runtime Layer" src="images/Runtime.jpg"></div>
</p>
	
</div>
	
<a name="N10065"></a><a name="ejb3"></a>
<div class="h3">
<h3>EJB3 Annotations</h3>
				
		
<p>Teneo can automatically map the EMF model to an object relational representation. However there are situations in which it makes
		sense to influence or control the mapping. For this purpose Teneo supports EJB3-like annotations in the model. The annotations 
		can be used to control the way the inheritance structure is mapped to the relational store or how efeatures are mapped to database 
		columns. For a complete overview of the supported EJB3 annotations see <a href="ejb3_features.html">here</a>.</p>
		
<p>The EJB3 support has been developed in such a way that it is only required to specify annotations for those parts of the model for 
		which the automatic behavior does not result in the required behavior. For example it is possible to specify a column annotation for 
		one efeature in a model while all other efeatures and eclasses are automatically handled by Teneo.</p>
		
<p>
<em>EJB3 annotations are defined in EAnnotations in a specific format. See 
		<a href="ejb3_format.html">here</a> for more information.</em>
</p>
	
</div>
  
</div>
</div>
</div>
</td>
</tr>
</table>
<div width="100%" id="footer">
<table width="100%" cellpadding="4" cellspacing="0" border="0">
<tr>
<td class="footer"><a href="license.html">
          Copyright &copy; 2006 The Elver Project</a>
      - All rights reserved.
      </td>
</tr>
</table>
</div>
</body>
</html>
