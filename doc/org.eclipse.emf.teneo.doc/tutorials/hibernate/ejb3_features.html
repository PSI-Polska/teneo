<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.7">
<meta name="Forrest-skin-name" content="elver4">
<style type="text/css">
          /*  */
          @import "../skin/tigris.css";
          @import "../skin/quirks.css";
          @import "../skin/inst.css";
         /*   */
        </style>
<link media="print" href="../skin/print.css" type="text/css" rel="stylesheet">
<link href="../skin/forrest.css" type="text/css" rel="stylesheet">
<link rel="shortcut icon" href="../">
<script type="text/javascript" src="../skin/tigris.js"></script><script src="../skin/menu.js" language="javascript" type="text/javascript"></script>
<title>Supported EJB3 Annotation Features</title>
<meta content="text/css" http-equiv="Content-style-type">
</head>
<body class="composite" onload="focus()">
<div id="banner">
<table width="100%" cellpadding="8" cellspacing="0" border="0">
<tr>
<td align="left">
<div>
<a href="http://www.elver.org"><img class="logoImage" alt="Elver Store" src="../images/ELV2.gif"></a>
</div>
<span class="alt">Elver Store</span></td><td align="center">
<div>
<a href="http://www.elver.org/"><img class="logoImage" alt="Elver" src="../images/empty.gif"></a>
</div>
</td><td valign="top" align="right">
<div class="right" align="right" id="login">
<form target="_blank" action="http://www.google.com/search" method="get">
<select name="as_sitesearch"><option value="">Search...</option><option value="www.elver.org">The elver site</option><option value="">The web</option></select> for
		      <input size="15" name="as_q" id="query" type="text"><input name="Search" value="Go" type="submit">
</form>
</div>
</td>
</tr>
</table>
</div>
<div id="toptabs" class="tabs">
<table border="0" cellspacing="0" cellpadding="4">
<tr>
<td><a class="base-selected" href="../index.html">Home</a></td><th><a class="base-selected" href="../hibernate/index.html">EMF Hibernate</a></th><td><a class="base-selected" href="../jpox/index.html">EMF JDO/JPOX</a></td><td><a class="base-selected" href="../services/index.html">Services</a></td>
</tr>
</table>
</div>
<table width="100%" border="0" cellpadding="0" cellspacing="0" id="breadcrumbs">
<tr>
<td></td><td>
<div class="published" align="right">
<script type="text/javascript" language="JavaScript"><!--
                 document.write("Published: " + document.lastModified);
                 //  --></script>
</div>
</td>
</tr>
</table>
<table id="main" width="100%" cellpadding="4" cellspacing="0" border="0">
<tr valign="top">
<td style="padding: 0px" width="20%" id="leftcol">
<table width="100%" class="menuarea" cellspacing="0" cellpadding="0">
<tr>
<td width="6px" valign="top">
<table border="0" cellpadding="0" cellspacing="0" class="leftpagemargin">
<tr>
<td class="subborder trail">&nbsp;</td>
</tr>
</table>
</td><td class="dialog">
<div class="menu">
<div onclick="SwitchMenu('menu_1.1')" id="menu_1.1Title" class="menutitle">Home</div>
<div id="menu_1.1" class="menuitemgroup">
<div class="menuitem">
<a href="../hibernate/index.html">Introduction</a>
</div>
<div class="menuitem">
<a href="../hibernate/status.html">Status</a>
</div>
<div class="menuitem">
<a href="../hibernate/features.html">Features</a>
</div>
<div class="menuitem">
<a href="../hibernate/overview.html">Overview</a>
</div>
<div class="menuitem">
<a href="../hibernate/changelog.html">Changelog</a>
</div>
<div class="menuitem">
<a href="../hibernate/installation.html">Download &amp; Install</a>
</div>
<div class="menuitem">
<a href="../hibernate/knownissues.html">Known Issues</a>
</div>
<div class="menuitem">
<a href="../hibernate/quick_tutorial.html">Quick Start</a>
</div>
<div class="menuitem">
<a href="../hibernate/license.html">License</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.2')" id="menu_1.2Title" class="menutitle">Library Tutorial</div>
<div id="menu_1.2" class="menuitemgroup">
<div class="menuitem">
<a href="../hibernate/tutorialone/tutorial1_intro.html">Introduction</a>
</div>
<div class="menuitem">
<a href="../hibernate/tutorialone/tutorial1_1.html">Setup Environment</a>
</div>
<div class="menuitem">
<a href="../hibernate/tutorialone/tutorial1_2.html">Create and Store EMF Object</a>
</div>
<div class="menuitem">
<a href="../hibernate/tutorialone/tutorial1_3.html">Retrieve EMF Objects</a>
</div>
<div class="menuitem">
<a href="../hibernate/tutorialone/tutorial1_4.html">Query EMF Objects</a>
</div>
<div class="menuitem">
<a href="../hibernate/tutorialone/tutorial1_5.html">Using EMF/JPOX Resources</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.3')" id="menu_1.3Title" class="menutitle">Library Editor Tutorial</div>
<div id="menu_1.3" class="menuitemgroup">
<div class="menuitem">
<a href="../hibernate/tutorialtwo/tutorial2_intro.html">Introduction</a>
</div>
<div class="menuitem">
<a href="../hibernate/tutorialtwo/tutorial2_1.html">Initialize the Library Editor</a>
</div>
<div class="menuitem">
<a href="../hibernate/tutorialtwo/tutorial2_2.html">Run the Library Editor</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.4')" id="menu_1.4Title" class="menutitle">Details</div>
<div id="menu_1.4" class="menuitemgroup">
<div class="menuitem">
<a href="../hibernate/dynamic.html">Dynamic EMF Tutorial</a>
</div>
<div class="menuitem">
<a href="../hibernate/inheritance.html">Inheritance Mapping</a>
</div>
<div class="menuitem">
<a href="../hibernate/hibernate_relations.html">Modeling Associations</a>
</div>
<div class="menuitem">
<a href="../hibernate/hbdatastore.html">HbDataStore</a>
</div>
<div class="menuitem">
<a href="../hibernate/options.html">Options</a>
</div>
<div class="menuitem">
<a href="../hibernate/hibernate_details.html">EMF - Hibernate Details</a>
</div>
<div class="menuitem">
<a href="../hibernate/hibernateresources.html">EMF Hibernate Resources</a>
</div>
<div class="menuitem">
<a href="../hibernate/resource_utility.html">Resource Utility</a>
</div>
</div>
<div onclick="SwitchMenu('menu_selected_1.5')" id="menu_selected_1.5Title" class="menutitle">Annotations</div>
<div id="menu_selected_1.5" class="selectedmenuitemgroup">
<div class="menuitem">
<a href="../hibernate/ejb3_format.html">Format</a>
</div>
<div class="menuitem">
<a href="../hibernate/ejb3_examples.html">Examples</a>
</div>
<div class="menupage">
<div class="menupagetitle">EJB3</div>
</div>
<div class="menuitem">
<a href="../hibernate/custom_annotations.html">Custom</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.6')" id="menu_1.6Title" class="menutitle">XML Schema</div>
<div id="menu_1.6" class="menuitemgroup">
<div class="menuitem">
<a href="../hibernate/features_details.html">XML Schema Support</a>
</div>
<div class="menuitem">
<a href="../hibernate/schema_list.html">XML Schema Examples</a>
</div>
<div class="menuitem">
<a href="../hibernate/featuremap.html">Feature Map/Mixed Content</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.7')" id="menu_1.7Title" class="menutitle">Support</div>
<div id="menu_1.7" class="menuitemgroup">
<div class="menuitem">
<a href="../hibernate/troubleshooting.html">Troubleshooting</a>
</div>
<div class="menuitem">
<a href="../hibernate/upgrading.html">Upgrading</a>
</div>
<div class="menuitem">
<a href="../hibernate/mailinglist.html">Mailinglist</a>
</div>
<div class="menuitem">
<a href="../hibernate/emfhibsupport.html">EMF/Hibernate Support</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.8')" id="menu_1.8Title" class="menutitle">Developer</div>
<div id="menu_1.8" class="menuitemgroup">
<div class="menuitem">
<a href="../hibernate/svn.html">Subversion</a>
</div>
<div class="menuitem">
<a href="../hibernate/testcases.html">Test cases</a>
</div>
</div>
</div>
</td>
</tr>
<tr>
<td></td><td>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td class="border bottom-left"></td><td class="border bottomborder"></td><td class="border bottom-right"></td>
</tr>
</table>
</td>
</tr>
<tr>
<td colspan="2" height="10"></td>
</tr>
</table>
<table></table>
<table></table>
<div class="strut">&nbsp;</div>
</td><td>
<div class="content">
<div id="bodycol">
<div id="apphead">
<h2>
<em>Supported EJB3 Annotation Features</em>
</h2>
</div>
<div class="app" id="projecthome">
<ul class="minitoc">
<li>
<a href="#featuresejb3">EJB3 Annotation Features</a>
</li>
<li>
<a href="#Supported+Annotations">Supported Annotations</a>
</li>
<li>
<a href="#Currently+Unsupported+Annotations">Currently Unsupported Annotations</a>
</li>
<li>
<a href="#Annotation+notes">Annotation notes</a>
<ul class="minitoc">
<li>
<a href="#edatatype">Annotations on EDataType</a>
</li>
<li>
<a href="#transient">Transient on EClass</a>
</li>
<li>
<a href="#secondarytables_notes">SecondaryTable annotation</a>
</li>
<li>
<a href="#EmbeddedID+annotation">EmbeddedID annotation</a>
</li>
<li>
<a href="#lob_notes">Lob annotation</a>
</li>
</ul>
</li>
</ul>
		
<a name="N1000E"></a><a name="featuresejb3"></a>
<div class="h3">
<h3>EJB3 Annotation Features</h3>
			
			
<p>The goal is to support all EJB3 persistence annotations.</p>
			
<p>You can download the EJB 3.0 Persistence Specification from the
				<a class="external" href="http://jcp.org/aboutJava/communityprocess/final/jsr220/index.html">jsr-220 download page</a>. The
				relevant document is "ejb-3_0-fr-spec-persistence.pdf".</p>
			
<p>The numbers in the listings below refer to the sections in chapter 9 of the specification.</p>
		
</div>
		
<a name="N10022"></a><a name="Supported+Annotations"></a>
<div class="h3">
<h3>Supported Annotations</h3>
			
			
<p>The EJB3 annotations listed below are supported as of the current release. "Supported" means that there are test
				cases showing the annotation is correctly translated to an object-relational mapping and that the annotation works as
				expected when persisting and retrieving objects to/from a database.</p>
			
<p>Supported as of the current release:</p>
				
<ul>
				
<li>9.1.1 Table Annotation</li>
				
<li>9.1.2: SecondaryTable Annotation</li>
				
<li>9.1.3: SecondaryTables Annotation</li>
				
<li>9.1.4: UniqueConstraint Annotation</li>
				
<li>9.1.5: Column Annotation</li>
				
<li>9.1.6: JoinColumn Annotation</li>
				
<li>9.1.7: JoinColumns Annotation</li>
				
<li>9.1.8: Id Annotation</li>
				
<li>9.1.9: GeneratedValue Annotation</li>
				
<li>9.1.10: AttributeOverride Annotation</li>
				
<li>9.1.11: AttributeOverrides Annotation</li>
				
<li>9.1.12: AssociationOverride Annotation</li>
				
<li>9.1.13: AssociationOverrides Annotation</li>
				
<li>9.1.14: EmbeddedId Annotation</li>
				
<li>9.1.15: IdClass Annotation</li>
				
<li>9.1.16: Transient Annotation</li>
				
<li>9.1.17: Version Annotation</li>
				
<li>9.1.18: Basic Annotation</li>
				
<li>9.1.19: Lob Annotation</li>
				
<li>9.1.20: Temporal Annotation (no special support required, handled automatically)</li>
				
<li>9.1.21: Enumerated Annotation (the Enumerate class must have a get(int) and get(String) method which returns an instance of the Enumerate class)</li>
				
<li>9.1.22: ManyToOne Annotation</li>
				
<li>9.1.23: OneToOne Annotation</li>
				
<li>9.1.24: OneToMany Annotation</li>
				
<li>9.1.25: JoinTable Annotation</li>
				
<li>9.1.26: ManyToMany Annotation</li>
				
<li>9.1.28: OrderBy Annotation</li>
				
<li>9.1.29: Inheritance Annotation</li>
				
<li>9.1.30: DiscriminatorColumn Annotation</li>
				
<li>9.1.31: Discriminator Annotation</li>
				
<li>9.1.32: PrimaryKeyJoinColumn Annotation</li>
				
<li>9.1.34: Embeddable Annotation</li>
				
<li>9.1.35: Embedded Annotation</li>
				
<li>9.1.36: MappedSuperclass Annotation</li>
				
<li>9.1.37: SequenceGenerator Annotation</li>
				
<li>9.1.38: TableGenerator Annotation</li>
				
</ul>
			
</div>
			
<a name="N1009E"></a><a name="Currently+Unsupported+Annotations"></a>
<div class="h3">
<h3>Currently Unsupported Annotations</h3>
				
				
<p>The following annotations are not yet supported:</p>
				
<ul>
				
<li>9.1.27: MapKey Annotation</li>
				
<li>9.1.33: PrimaryKeyJoinColumns Annotation</li>
				
</ul>
		
</div>
		
		
<a name="N100B1"></a><a name="Annotation+notes"></a>
<div class="h3">
<h3>Annotation notes</h3>
			
			
<a name="N100B7"></a><a name="edatatype"></a>
<div class="h4">
<h4>Annotations on EDataType</h4>
<p>Every ejb3 annotation which is relevant for a non-reference type java member can also be specified on an EDataType. 
			Setting annotations on an EDataType has as advantage that the annotation is used in every location in which the EDataType is
			used. For example the column length annotation can be defined on EDataType level and is then automatically added to 
			each EAttribute which uses this EDataType. The annotations on EAttribute level take precedence so if both the EAttribute 
			and the EDataType have the same annotation then the annotation on the EAttribute is used.</p>
</div>
			
<a name="N100C0"></a><a name="transient"></a>
<div class="h4">
<h4>Transient on EClass</h4>
<p>The Transient annotation can also be used on an EClass. This prevents an EClass from being mapped and be persisted.</p>
<p>This means also that in case that the super EClass of an EClass is transient that the properties of the super EClass are 
				not persisted and that the sub EClass requires its own identifier/primary key properties.</p>
</div>
			
<a name="N100CD"></a><a name="secondarytables_notes"></a>
<div class="h4">
<h4>SecondaryTable annotation</h4>
<p>
					Mapping properties to secondary tables works as follows.
				</p>
<p>
					First, define one or more SecondaryTable annotations for the type in question:
				</p>
<pre class="code">&lt;xsd:complexType name="Person"&gt;
	&lt;xsd:annotation&gt;
		&lt;!-- Declare two secondary tables. --&gt;
		&lt;xsd:appinfo source="http://ejb.elver.org/SecondaryTables" ecore:key="value"&gt;st1 st2&lt;/xsd:appinfo&gt;
		&lt;xsd:appinfo source="http://ejb.elver.org/SecondaryTable/st1" ecore:key="name"&gt;person_address&lt;/xsd:appinfo&gt;
		&lt;xsd:appinfo source="http://ejb.elver.org/SecondaryTable/st2" ecore:key="name"&gt;person_photo&lt;/xsd:appinfo&gt;
	&lt;/xsd:annotation&gt;
	&lt;xsd:sequence&gt;
		&lt;!-- Child elements here... --&gt;
	&lt;/xsd:sequence&gt;
&lt;/xsd:complexType&gt;</pre>
<p>Second, define a Column.table annotation for each property that should be mapped to a secondary table:</p>
<pre class="code">&lt;xsd:element name="address" type="xsd:string"&gt;
	&lt;xsd:annotation&gt;
		&lt;!-- Map to person_address table. --&gt;
		&lt;xsd:appinfo source="http://ejb.elver.org/Column" ecore:key="table"&gt;person_address&lt;/xsd:appinfo&gt;
	&lt;/xsd:annotation&gt;
&lt;/xsd:element&gt;
&lt;xsd:element name="photo" type="xsd:base64Binary"&gt;
	&lt;xsd:annotation&gt;
		&lt;xsd:appinfo source="http://ejb.elver.org/Lob"&gt;true&lt;/xsd:appinfo&gt;
		&lt;!-- Map to person_photo table. --&gt;
		&lt;xsd:appinfo source="http://ejb.elver.org/Column" ecore:key="table"&gt;person_photo&lt;/xsd:appinfo&gt;
	&lt;/xsd:annotation&gt;
&lt;/xsd:element&gt;</pre>
</div>
			
			
<a name="N100E5"></a><a name="EmbeddedID+annotation"></a>
<div class="h4">
<h4>EmbeddedID annotation</h4>
<p>EmbeddedID lets you use an embedded class as an entity's composite primary key.</p>
<p>
<em>Note: in general, composite primary keys are only necessary for legacy data models.
					It's strongly recommended to use single (non-composite) keys for new data models.</em>
</p>
<p>Elver requires that the composite key's class is an EObject, as it needs ECore metadata to define the correct mapping.</p>
</div>
			
			
<a name="N100F6"></a><a name="lob_notes"></a>
<div class="h4">
<h4>Lob annotation</h4>
<p>
					Some database engines - for example, MySQL - have different BLOB types for different data sizes.
					(TINYBLOB, MEDIUMBLOB, LARGEBLOB.) 
				</p>
<p>The actual BLOB type used by Hibernate is thus dependent upon the column length, but the default
					column length of 255 is often too small to acommodate typical BLOB data. </p>
<p>Therefore you'll need to add a Column.length annotation to the property specifying the maximum possible size of the BLOB data, as shown below:</p>
<pre class="code">
&lt;xsd:element name="photo" type="xsd:base64Binary" minOccurs="0"&gt;
	&lt;xsd:annotation&gt;
		&lt;!-- Map to a 'binary' field. --&gt;
		&lt;xsd:appinfo source="http://ejb.elver.org/Lob"&gt;true&lt;/xsd:appinfo&gt;
		&lt;!-- Use 1Mb maximum length. (MEDIUMBLOB in MySQL.) --&gt;
		&lt;xsd:appinfo source="http://ejb.elver.org/Column" ecore:key="length"&gt;1048576&lt;/xsd:appinfo&gt;
	&lt;/xsd:annotation&gt;
&lt;/xsd:element&gt;
				</pre>
</div>
			
		
</div>
		
	
</div>
</div>
</div>
</td>
</tr>
</table>
<div width="100%" id="footer">
<table width="100%" cellpadding="4" cellspacing="0" border="0">
<tr>
<td class="footer"><a href="license.html">
          Copyright &copy; 2006 The Elver Project</a>
      - All rights reserved.
      </td>
</tr>
</table>
</div>
</body>
</html>
