<?xml version="1.0"?>
<!--
	Copyright (c) 2005, 2006 Springsite BV (The Netherlands) and others
	All rights reserved. This program and the accompanying materials
	are made available under the terms of the Eclipse Public License v1.0
	which accompanies this distribution, and is available at
	http://www.eclipse.org/legal/epl-v10.html
-->
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN" "http://forrest.apache.org/dtd/document-v20.dtd">
<document> 
  <header> 
    <title>Download and Install</title> 
    <notice>Describes the steps to install hibernate and the hibernate emf integration.</notice>
    <abstract>The installation consists of the steps listed below.</abstract> 
  </header> 
  <body> 
	  <section id="emf">
      <title>EMF Installation</title>
     	<p>EMF can be installed in Eclipse using the Eclipse update manager. 
			 See <a href="http://eclipse.org/emf/docs.php?doc=docs/UsingUpdateManager/UsingUpdateManager.html">here</a> for more information.
			 It is best to install the EMF SDK 2.2.* which contains the complete bundle with emf, xsd and sdo. 
		</p>
	 </section>
    <section>
     	<title>EMF - hibernate Persistency Plugin Installation</title>
		<p> The EMF Persistency plugin can be downloaded from the eclipse.org/emft update site. 
			To configure this update site in Eclipse go to: <em>Help &gt; Software Updates &gt; Find and Install</em>. Select
			'Search for new features to install' and click next.
		</p>
		<p> At this window create a new update site by clicking
			on 'New Remote Site'. Enter any name you want, as a url enter: <em>http://download.eclipse.org/technology/emft/updates/site-interim.xml</em>, 
			and press ok. 
			</p>
		<p>Select the newly created update site and press finish. When the update site contents are shown, select the 
			Teneo EMF Persistency (possibly followed by version information) Feature.</p>
		<p>The feature consists of a number of plugins: org.eclipse.emf.teneo.hibernate.eclipse and org.eclipse.emf.teneo.hibernate. The first plugin contains the OR Mapper which
			generates jdo descriptor files. The second plugin contains the jar files for the EMF persistency runtime. 
			</p>
			<p>After you have installed the plugin and restarted eclipse you will see a new menu entry called Teneo when 
			you right click on an ecore file.
			</p>
			<p><em>Note, if you have a earlier version of the EMF persistency plugin installed then you it is possible that 
			you need to manually disable the previous version of the EMF - hibernate feature, see <a href="upgrading.html">here</a>.</em></p>
	</section>
	 <section>
		 <title>Hibernate Libraries</title>
			<p>The EMF persistency feature does not contain the Hibernate libraries (and its dependencies). 
			Please download the Hibernate libraries separately from: <a href="http://www.hibernate.org">the hibernate website</a>.</p>
			<p><strong>A common approach is to place the Hibernate libraries in a separate plugin on which your model plugin will depend.
			If you do this then you should also set the BuddyPolicy in the plugin containing the Hibernate jars (in the Manifest.MF), 
			for example: Eclipse-BuddyPolicy: dependent.</strong></p>
	 </section>
	<section id="emfhibernateruntime">
     	<title>Install the EMF - Hibernate Runtime plugin</title>
		<p>The installed runtime plugin (org.eclipse.emf.teneo.hibernate) can be used in two ways: 
			1) in an EMF model plugin, 2) in a non-plugin project. </p>
		<section>
			<title>Using the runtime plugin in an EMF model plugin</title>
			<p>To install the runtime plugin in an EMF model plugin go through the following steps (in this order):</p>
			<ol>
				<li>In the plugin.xml, dependency tab, of the EMF model plugin project add a dependency to 
				the org.eclipse.emf.teneo.hibernate plugin. Enable this plugin for export (reexport dependency).</li>
				<li>Add a JDBC driver to the EMF editor (or the model) plugin project. If only added to the 
				EMF model project ensure that the EMF editor project has access to the jdbc driver.</li>
			</ol>
			<p></p>
			<p><strong>From here please follow either the <a href="quick_tutorial.html">Quick Start</a> or 
				<a href="tutorialone/tutorial1_intro.html">the Library Tutorial</a>.</strong></p>
		</section>
		<section>
			<title>Installing the runtime layer in a non-plugin EMF project</title>
			<p>In case of a non-plugin project all the jar-files present in the following plugins should be in the classpath:</p>
			<ul>
				<li>org.eclipse.emf.teneo</li>
				<li>org.eclipse.emf.teneo.annotations</li>
				<li>org.eclipse.emf.teneo.hibernate</li>
			</ul>
			<p>In addition the hibernate libraries and a jdbc driver should be added to the classpath.</p>
		</section>
	</section>
  </body> 
</document>