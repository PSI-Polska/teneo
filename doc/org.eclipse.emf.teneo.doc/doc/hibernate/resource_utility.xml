<?xml version="1.0" encoding="UTF-8"?>
<!--
	Copyright 2005-2006, Elver.org (http://www.elver.org).

	Licensed under the Apache License, Version 2.0 (the "License");
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at

		http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software
	distributed under the License is distributed on an "AS IS" BASIS,
	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	See the License for the specific language governing permissions and
	limitations under the License.
--> 

<!--
	@author <a href="mtaal@elver.org">Martin Taal</a>
	@version $Revision: 1.1 $ $Date: 2006/08/03 09:58:07 $
-->

<!DOCTYPE document PUBLIC
	"-//APACHE//DTD Documentation V2.0//EN"
	"http://forrest.apache.org/dtd/document-v20.dtd">

<document> 
	<header> 
		<title>Resource Utility: directly open an editor, import/export</title> 
	</header> 
	<body>
		<p>As part of the EMF Hibernate plugin install a separate utility is also installed.
			This utility can be used to directly open a relational Hibernate database in 
			the generated EMF editor. 
		</p>
		<p><em>This resource utility is in many
		ways very basic. It may or may not be usefull for you and will be extended in the future.</em></p>
		<section><title>The ehb file</title>
		<p>The resource utility operates on files with the extension <em>ehb</em>. This file
		contains registration and database connection information for a Session Factory.
		An example ehb file with a description of its content can be downloaded here: 
			<a href="samples/library.ehb">library.ehb</a>.</p>
		<p><em></em></p>
		</section>
		<section><title>Open Resource</title>
		<p>When rightclicking on an ehb file the Elver menu option is displayed. Within this 
		menu the option <em>Open Resource</em> is shown. Choosing this option will open a 
		EMF editor which reads its contents from the connection/session information in the
		ehb file.</p>
		<p>
		<img src="images/resourceutility.jpg" alt="Resource utility"/>		
		</p>
		</section>
		<section><title>Export/Import to and from XMI or XML</title>
			<p>The XML/XMI export
				function can be used to make a backup of your current data and import this
				data again in an empty (new) database. The main drawback 
			of the XML/XMI import is that it will add all the content to the database and will
			not check if the content already exists in the database. Note that the XMI
			export/import is more powerfull (than XML) because it supports export/import of multiple
			root objects.</p>
		</section>
		<section><title>Throubleshooting: empty editor when opening resource, can not add</title>
		<p>When you open an empty resource (relational database) by right clicking on the 
			ehb file an editor is opened which does not allow you to add the first document. This
			is a restriction of the generated EMF editor. So you should always have at least one
			document in the resource. This document can be created by importing from a XML document
			or by using the standard EMF open model wizard.</p>
		</section>
		
		<section><title>Future extensions</title>
			<ul>
				<li>Instead of a property file offer a more advanced ui</li>
				<li>Extend the export/import to support different modes such as 
					overwrite existing documents, add to the relational store etc.</li>
				<li>Support for xsl transformations when exporting/importing</li>
				<li>Export subsets of the relational store using HQL queries or other 
				filtering</li>
			</ul>
			<p>Please send an email to the <a href="mailinglist.html">mailinglist</a> if you
			have other ideas or requirements for resource utilities.</p>
		<p></p>
		</section>		
	</body>
</document>
